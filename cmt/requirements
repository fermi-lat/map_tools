package map_tools

version v4r0

author T. Burnett <tburnett@u.washington.edu>
# $Id: requirements,v 1.20 2004/03/11 20:35:31 burnett Exp $


use astro *
use hoops * 
use tuple *

#suppress annoying warnings from hoops: "illegal conversion" and "forcing value to bool" 
macro_append cppflags "" WIN32 " /wd4800 /wd4927 "

#builds an internal library for FITS image I/O and keyword handling (from astroroot)
library image -no_share -s=image $(source)

apply_pattern GLAST_static_library_package
macro_append map_tools_linkopts " -l image " Win32 " $(map_toolsDir)/image.lib "

#convenient patern for building executables, with par file in project		
pattern ST_app \
  macro <name>_par "" WIN32 "<name>.par" ; \ 
  application <name> -s=<name> *.cxx  -s=../pfiles $(<name>_par)


#---------------------------------------------------------------
private

use facilities *

path_append PFILES "$(MAP_TOOLSROOT)/pfiles"
set INFILES  "$(MAP_TOOLSROOT)/data"
set OUTFILES "$(MAP_TOOLSROOT)/output"

#

set TMP "/tmp" WIN32 "%TEMP%"

apply_pattern ST_app name=count_map
apply_pattern ST_app name=exposure_cube
apply_pattern ST_app name=exposure_map
apply_pattern ST_app name=read_map

